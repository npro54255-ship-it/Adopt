local Players = game:GetService("Players")
local VirtualInputManager = game:GetService("VirtualInputManager")

local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")

local function hardClick(button)
    -- 1. Стандартное нажатие
    pcall(function()
        button:Activate()
    end)

    -- 2. Через событие
    pcall(function()
        button.MouseButton1Click:Fire()
    end)

    -- 3. Реальный эмулированный клик мыши
    pcall(function()
        local absPos = button.AbsolutePosition
        local absSize = button.AbsoluteSize

        local x = absPos.X + absSize.X / 2
        local y = absPos.Y + absSize.Y / 2

        VirtualInputManager:SendMouseButtonEvent(x, y, 0, true, game, 0)
        task.wait(0.05)
        VirtualInputManager:SendMouseButtonEvent(x, y, 0, false, game, 0)
    end)
end

local function findAndAccept()
    for _, obj in ipairs(PlayerGui:GetDescendants()) do
        if obj:IsA("TextButton") then
            if obj.Text and string.lower(obj.Text) == "accept" then
                if obj.Visible then
                    -- нажимаем несколько раз для гарантии
                    for i = 1, 5 do
                        hardClick(obj)
                        task.wait(0.1)
                    end
                    print("✅ ACCEPT НАЖАТ НАВЕРНЯКА")
                    return true
                end
            end
        end
    end
end

-- Постоянный агрессивный поиск
task.spawn(function()
    while true do
        findAndAccept()
        task.wait(0.1)
    end
end)

-- Если GUI появился заново
PlayerGui.DescendantAdded:Connect(function()
    task.wait(0.05)
    findAndAccept()
end)


