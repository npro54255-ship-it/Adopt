-- Adopt Me Trade Currency Calculator - COMPLETE DATABASE
-- –ê–≤—Ç–æ—Ä: sherikyt
-- –í–µ—Ä—Å–∏—è: 2.0

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å
local SherikytCurrencyCalculator = {}
SherikytCurrencyCalculator.__index = SherikytCurrencyCalculator

-- –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø
SherikytCurrencyCalculator.Config = {
    UPDATE_INTERVAL = 1.5,
    DEBUG_MODE = true,
    API_ENABLED = false, -- –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –µ—Å–ª–∏ –Ω–∞–π–¥–µ—Ç–µ API
    SHOW_ALL_PETS = true
}

-- –ü–û–õ–ù–ê–Ø –ë–ê–ó–ê –î–ê–ù–ù–´–• –í–°–ï–• –ü–ò–¢–û–ú–¶–û–í (–ê–ö–¢–£–ê–õ–¨–ù–û)
SherikytCurrencyCalculator.CompletePetDatabase = {
    -- =========== LEGENDARY PETS ===========
    ["Shadow Dragon"] = {Value = 1000, Rarity = "Legendary", Type = "Dragon"},
    ["Bat Dragon"] = {Value = 950, Rarity = "Legendary", Type = "Dragon"},
    ["Giraffe"] = {Value = 900, Rarity = "Legendary", Type = "Safari"},
    ["Frost Dragon"] = {Value = 850, Rarity = "Legendary", Type = "Winter"},
    ["Owl"] = {Value = 800, Rarity = "Legendary", Type = "Farm"},
    ["Parrot"] = {Value = 780, Rarity = "Legendary", Type = "Pirate"},
    ["Evil Unicorn"] = {Value = 750, Rarity = "Legendary", Type = "Halloween"},
    ["Crow"] = {Value = 720, Rarity = "Legendary", Type = "Farm"},
    ["Arctic Reindeer"] = {Value = 700, Rarity = "Legendary", Type = "Christmas"},
    ["King Monkey"] = {Value = 650, Rarity = "Legendary", Type = "Monkey"},
    ["Albino Monkey"] = {Value = 620, Rarity = "Legendary", Type = "Monkey"},
    ["Diamond Griffin"] = {Value = 600, Rarity = "Legendary", Type = "Diamond"},
    ["Diamond Unicorn"] = {Value = 580, Rarity = "Legendary", Type = "Diamond"},
    ["Diamond Dragon"] = {Value = 550, Rarity = "Legendary", Type = "Diamond"},
    
    -- Robux/Limited Legendary
    ["Skeleton Rex"] = {Value = 900, Rarity = "Legendary", Type = "Halloween"},
    ["Ghost Dragon"] = {Value = 850, Rarity = "Legendary", Type = "Halloween"},
    ["Turtle"] = {Value = 400, Rarity = "Legendary", Type = "Aussie"},
    ["Kangaroo"] = {Value = 350, Rarity = "Legendary", Type = "Aussie"},
    ["Golden Penguin"] = {Value = 300, Rarity = "Legendary", Type = "Winter"},
    ["Golden Griffin"] = {Value = 280, Rarity = "Legendary", Type = "Golden"},
    ["Golden Unicorn"] = {Value = 270, Rarity = "Legendary", Type = "Golden"},
    ["Golden Dragon"] = {Value = 260, Rarity = "Legendary", Type = "Golden"},
    
    -- Other Legendary
    ["Unicorn"] = {Value = 250, Rarity = "Legendary", Type = "Common"},
    ["Dragon"] = {Value = 240, Rarity = "Legendary", Type = "Common"},
    ["Griffin"] = {Value = 230, Rarity = "Legendary", Type = "Mythic"},
    ["Kitsune"] = {Value = 220, Rarity = "Legendary", Type = "Japan"},
    ["Cerberus"] = {Value = 210, Rarity = "Legendary", Type = "Mythic"},
    ["Guardian Lion"] = {Value = 200, Rarity = "Legendary", Type = "Lunar"},
    ["Dodo"] = {Value = 190, Rarity = "Legendary", Type = "Fossil"},
    ["T-Rex"] = {Value = 180, Rarity = "Legendary", Type = "Fossil"},
    ["Snow Owl"] = {Value = 170, Rarity = "Legendary", Type = "Winter"},
    ["Frost Fury"] = {Value = 160, Rarity = "Legendary", Type = "Winter"},
    ["Phoenix"] = {Value = 150, Rarity = "Legendary", Type = "Mythic"},
    ["Shark"] = {Value = 140, Rarity = "Legendary", Type = "Ocean"},
    ["Octopus"] = {Value = 130, Rarity = "Legendary", Type = "Ocean"},
    ["Goldhorn"] = {Value = 120, Rarity = "Legendary", Type = "Lunar"},
    ["Diamond Ladybug"] = {Value = 110, Rarity = "Legendary", Type = "Diamond"},
    ["Axolotl"] = {Value = 100, Rarity = "Legendary", Type = "Ocean"},
    ["Ice Golem"] = {Value = 95, Rarity = "Legendary", Type = "Winter"},
    ["Lavender Dragon"] = {Value = 90, Rarity = "Legendary", Type = "Dragon"},
    ["Sugar Glider"] = {Value = 85, Rarity = "Legendary", Type = "Urban"},
    ["Queen Bee"] = {Value = 80, Rarity = "Legendary", Type = "Farm"},
    ["Diamond Butterfly"] = {Value = 75, Rarity = "Legendary", Type = "Diamond"},
    ["Chameleon"] = {Value = 70, Rarity = "Legendary", Type = "Safari"},
    ["Squid"] = {Value = 65, Rarity = "Legendary", Type = "Ocean"},
    ["Green Butterfly"] = {Value = 60, Rarity = "Legendary", Type = "Garden"},
    ["Field Mouse"] = {Value = 55, Rarity = "Legendary", Type = "Farm"},
    ["Shetland Pony White"] = {Value = 50, Rarity = "Legendary", Type = "Farm"},
    ["Shetland Pony Brown"] = {Value = 50, Rarity = "Legendary", Type = "Farm"},
    ["Shetland Pony Pink"] = {Value = 50, Rarity = "Legendary", Type = "Farm"},
    ["Mechapup"] = {Value = 45, Rarity = "Legendary", Type = "Robux"},
    ["Mega Cat"] = {Value = 40, Rarity = "Legendary", Type = "Mega"},
    ["Mega Dog"] = {Value = 40, Rarity = "Legendary", Type = "Mega"},
    ["Mega Buffalo"] = {Value = 35, Rarity = "Legendary", Type = "Mega"},
    ["Mega Otter"] = {Value = 35, Rarity = "Legendary", Type = "Mega"},
    
    -- =========== ULTRA RARE PETS ===========
    ["Swan"] = {Value = 30, Rarity = "Ultra Rare", Type = "Farm"},
    ["Cow"] = {Value = 28, Rarity = "Ultra Rare", Type = "Farm"},
    ["Hedgehog"] = {Value = 26, Rarity = "Ultra Rare", Type = "Christmas"},
    ["Elephant"] = {Value = 24, Rarity = "Ultra Rare", Type = "Safari"},
    ["Pig"] = {Value = 22, Rarity = "Ultra Rare", Type = "Farm"},
    ["Platypus"] = {Value = 20, Rarity = "Ultra Rare", Type = "Aussie"},
    ["Zombie Buffalo"] = {Value = 18, Rarity = "Ultra Rare", Type = "Halloween"},
    ["Turkey"] = {Value = 16, Rarity = "Ultra Rare", Type = "Farm"},
    ["Llama"] = {Value = 15, Rarity = "Ultra Rare", Type = "Farm"},
    ["Puffin"] = {Value = 14, Rarity = "Ultra Rare", Type = "Winter"},
    ["Reindeer"] = {Value = 13, Rarity = "Ultra Rare", Type = "Christmas"},
    ["Brown Bear"] = {Value = 12, Rarity = "Ultra Rare", Type = "Forest"},
    ["Polar Bear"] = {Value = 11, Rarity = "Ultra Rare", Type = "Winter"},
    ["Hyena"] = {Value = 10, Rarity = "Ultra Rare", Type = "Safari"},
    ["Yeti"] = {Value = 9, Rarity = "Ultra Rare", Type = "Winter"},
    ["Albino Bat"] = {Value = 8, Rarity = "Ultra Rare", Type = "Halloween"},
    ["Silly Duck"] = {Value = 7, Rarity = "Ultra Rare", Type = "Farm"},
    ["Drake"] = {Value = 6, Rarity = "Ultra Rare", Type = "Farm"},
    ["Black Panther"] = {Value = 5, Rarity = "Ultra Rare", Type = "Jungle"},
    ["Pink Cat"] = {Value = 4, Rarity = "Ultra Rare", Type = "Common"},
    ["Blue Dog"] = {Value = 3, Rarity = "Ultra Rare", Type = "Common"},
    ["Flamingo"] = {Value = 2, Rarity = "Ultra Rare", Type = "Safari"},
    ["Lion"] = {Value = 1, Rarity = "Ultra Rare", Type = "Safari"},
}
-- –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
SherikytCurrencyCalculator.CompletePetDatabase = SherikytCurrencyCalculator.CompletePetDatabase or {}

-- –î–æ–±–∞–≤–ª—è–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∏—Ç–æ–º—Ü—ã –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ç–∞–±–ª–∏—Ü–µ
local additionalPets = {
    -- =========== RARE PETS ===========
    ["Bee"] = {Value = 50, Rarity = "Rare", Type = "Farm"},
    ["Penguin"] = {Value = 45, Rarity = "Rare", Type = "Winter"},
    ["Red Panda"] = {Value = 40, Rarity = "Rare", Type = "Japan"},
    ["Shrew"] = {Value = 35, Rarity = "Rare", Type = "Winter"},
    ["Sloth"] = {Value = 30, Rarity = "Rare", Type = "Jungle"},
    ["Rhino"] = {Value = 25, Rarity = "Rare", Type = "Safari"},
    ["Emu"] = {Value = 20, Rarity = "Rare", Type = "Aussie"},
    ["Rabbit"] = {Value = 15, Rarity = "Rare", Type = "Farm"},
    ["Snowman"] = {Value = 10, Rarity = "Rare", Type = "Winter"},
    ["Wolf"] = {Value = 8, Rarity = "Rare", Type = "Forest"},
    ["Shiba Inu"] = {Value = 7, Rarity = "Rare", Type = "Japan"},
    ["Pterodactyl"] = {Value = 6, Rarity = "Rare", Type = "Fossil"},
    ["Deinonychus"] = {Value = 5, Rarity = "Rare", Type = "Fossil"},
    ["Stegosaurus"] = {Value = 4, Rarity = "Rare", Type = "Fossil"},
    ["Triceratops"] = {Value = 3, Rarity = "Rare", Type = "Fossil"},
    ["Woolly Mammoth"] = {Value = 2, Rarity = "Rare", Type = "Fossil"},
    ["Sabertooth"] = {Value = 1, Rarity = "Rare", Type = "Fossil"},
    
    -- =========== UNCOMMON PETS ===========
    ["Cat"] = {Value = 5, Rarity = "Uncommon", Type = "Common"},
    ["Dog"] = {Value = 5, Rarity = "Uncommon", Type = "Common"},
    ["Black Bat"] = {Value = 4, Rarity = "Uncommon", Type = "Halloween"},
    ["Chocolate Labrador"] = {Value = 3, Rarity = "Uncommon", Type = "Dog"},
    ["Shiba Inu"] = {Value = 2, Rarity = "Uncommon", Type = "Dog"},
    ["Poodle"] = {Value = 1, Rarity = "Uncommon", Type = "Dog"},
    ["Blue Cat"] = {Value = 1, Rarity = "Uncommon", Type = "Cat"},
    ["Orange Cat"] = {Value = 1, Rarity = "Uncommon", Type = "Cat"},
    ["White Cat"] = {Value = 1, Rarity = "Uncommon", Type = "Cat"},
    ["Chicken"] = {Value = 2, Rarity = "Uncommon", Type = "Farm"},
    ["Robin"] = {Value = 1, Rarity = "Uncommon", Type = "Farm"},
    ["Cardinal"] = {Value = 1, Rarity = "Uncommon", Type = "Farm"},
    
    -- =========== COMMON PETS ===========
    ["Buffalo"] = {Value = 1, Rarity = "Common", Type = "Farm"},
    ["Otter"] = {Value = 1, Rarity = "Common", Type = "River"},
    ["Bandicoot"] = {Value = 1, Rarity = "Common", Type = "Aussie"},
    ["Tasmanian Tiger"] = {Value = 1, Rarity = "Common", Type = "Aussie"},
    ["Stingray"] = {Value = 1, Rarity = "Common", Type = "Ocean"},
    ["Clownfish"] = {Value = 1, Rarity = "Common", Type = "Ocean"},
    ["Seahorse"] = {Value = 1, Rarity = "Common", Type = "Ocean"},
    ["Dolphin"] = {Value = 1, Rarity = "Common", Type = "Ocean"},
    ["Narwhal"] = {Value = 1, Rarity = "Common", Type = "Ocean"},
    ["Walrus"] = {Value = 1, Rarity = "Common", Type = "Winter"},
    ["Snow Cat"] = {Value = 1, Rarity = "Common", Type = "Winter"},
    ["Snow Puma"] = {Value = 1, Rarity = "Common", Type = "Winter"},
    ["Arctic Fox"] = {Value = 1, Rarity = "Common", Type = "Winter"},
    ["Puma"] = {Value = 1, Rarity = "Common", Type = "Jungle"},
    ["Fennec Fox"] = {Value = 1, Rarity = "Common", Type = "Desert"},
    ["Meerkat"] = {Value = 1, Rarity = "Common", Type = "Desert"},
    ["Camel"] = {Value = 1, Rarity = "Common", Type = "Desert"},
    
    -- =========== LIMITED/EGG PETS ===========
    -- Christmas Eggs
    ["Christmas Egg"] = {Value = 500, Rarity = "Limited", Type = "Egg"},
    ["Festive Egg"] = {Value = 450, Rarity = "Limited", Type = "Egg"},
    
    -- Farm Eggs
    ["Farm Egg"] = {Value = 400, Rarity = "Limited", Type = "Egg"},
    ["Jungle Egg"] = {Value = 350, Rarity = "Limited", Type = "Egg"},
    ["Safari Egg"] = {Value = 300, Rarity = "Limited", Type = "Egg"},
    
    -- Aussie Eggs
    ["Aussie Egg"] = {Value = 250, Rarity = "Limited", Type = "Egg"},
    ["Fossil Egg"] = {Value = 200, Rarity = "Limited", Type = "Egg"},
    ["Ocean Egg"] = {Value = 150, Rarity = "Limited", Type = "Egg"},
    ["Mythic Egg"] = {Value = 100, Rarity = "Limited", Type = "Egg"},
    ["Woodland Egg"] = {Value = 80, Rarity = "Limited", Type = "Egg"},
    ["Japan Egg"] = {Value = 70, Rarity = "Limited", Type = "Egg"},
    ["Southeast Asia Egg"] = {Value = 60, Rarity = "Limited", Type = "Egg"},
    ["Royal Egg"] = {Value = 50, Rarity = "Limited", Type = "Egg"},
    ["Pet Egg"] = {Value = 10, Rarity = "Limited", Type = "Egg"},
    ["Cracked Egg"] = {Value = 1, Rarity = "Limited", Type = "Egg"},
    
    -- =========== VEHICLES/TOYS ===========
    ["Hoverboard"] = {Value = 100, Rarity = "Vehicle", Type = "Transport"},
    ["Train"] = {Value = 80, Rarity = "Vehicle", Type = "Transport"},
    ["Cloud"] = {Value = 60, Rarity = "Vehicle", Type = "Transport"},
    ["Broomstick"] = {Value = 40, Rarity = "Vehicle", Type = "Halloween"},
    ["Go-Kart"] = {Value = 20, Rarity = "Vehicle", Type = "Transport"},
    ["Donut Cycle"] = {Value = 15, Rarity = "Vehicle", Type = "Food"},
    ["Heart Hoverboard"] = {Value = 10, Rarity = "Vehicle", Type = "Valentine"},
    
    -- =========== STROLLERS ===========
    ["Cannon Stroller"] = {Value = 50, Rarity = "Stroller", Type = "Pirate"},
    ["Egg Stroller"] = {Value = 30, Rarity = "Stroller", Type = "Easter"},
    ["Rainbow Stroller"] = {Value = 20, Rarity = "Stroller", Type = "Rainbow"},
    ["Duck Stroller"] = {Value = 10, Rarity = "Stroller", Type = "Farm"},
    
    -- =========== PET WEAR ===========
    ["Head Chef"] = {Value = 30, Rarity = "Pet Wear", Type = "Clothing"},
    ["Sombrero"] = {Value = 20, Rarity = "Pet Wear", Type = "Clothing"},
    ["Santa Hat"] = {Value = 15, Rarity = "Pet Wear", Type = "Christmas"},
    ["Witch Hat"] = {Value = 10, Rarity = "Pet Wear", Type = "Halloween"},
    ["Fez"] = {Value = 5, Rarity = "Pet Wear", Type = "Clothing"},
}

-- –û–±—ä–µ–¥–∏–Ω—è–µ–º —Ç–∞–±–ª–∏—Ü—ã
for petName, data in pairs(additionalPets) do
    SherikytCurrencyCalculator.CompletePetDatabase[petName] = data
end

-- –ú–û–î–ò–§–ò–ö–ê–¢–û–†–´ –î–õ–Ø –í–°–ï–• –í–û–ó–ú–û–ñ–ù–´–• –í–ê–†–ò–ê–¶–ò–ô
SherikytCurrencyCalculator.PotionModifiers = {
    -- –ë–∞–∑–æ–≤—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
    ["FR"] = {Multiplier = 1.5, Name = "Fly Ride", Code = "FR"},
    ["R"] = {Multiplier = 1.3, Name = "Ride", Code = "R"},
    ["F"] = {Multiplier = 1.2, Name = "Fly", Code = "F"},
    ["N"] = {Multiplier = 1.0, Name = "Normal", Code = "N"},
    ["M"] = {Multiplier = 2.0, Name = "Mega", Code = "M"},
    
    -- –ù–µ–æ–Ω–æ–≤—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
    ["NEON"] = {Multiplier = 2.5, Name = "Neon", Code = "NEON"},
    ["MEGA NEON"] = {Multiplier = 4.0, Name = "Mega Neon", Code = "MEGA NEON"},
    
    -- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
    ["NO POTION"] = {Multiplier = 0.9, Name = "No Potion", Code = "NO POTION"},
    ["ONLY FLY"] = {Multiplier = 1.1, Name = "Only Fly", Code = "ONLY FLY"},
    ["ONLY RIDE"] = {Multiplier = 1.15, Name = "Only Ride", Code = "ONLY RIDE"},
    ["FR ONLY"] = {Multiplier = 1.4, Name = "Fly Ride Only", Code = "FR ONLY"},
    
    -- –†–µ–¥–∫–æ—Å—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤
    ["LEGENDARY"] = {Multiplier = 1.0, Name = "Legendary", Code = "LEGENDARY"},
    ["ULTRA RARE"] = {Multiplier = 0.8, Name = "Ultra Rare", Code = "ULTRA RARE"},
    ["RARE"] = {Multiplier = 0.6, Name = "Rare", Code = "RARE"},
    ["UNCOMMON"] = {Multiplier = 0.4, Name = "Uncommon", Code = "UNCOMMON"},
    ["COMMON"] = {Multiplier = 0.2, Name = "Common", Code = "COMMON"},
    
    -- –í–æ–∑—Ä–∞—Å—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
    ["NEWBORN"] = {Multiplier = 1.0, Name = "Newborn", Code = "NEWBORN"},
    ["JUNIOR"] = {Multiplier = 1.05, Name = "Junior", Code = "JUNIOR"},
    ["PRE-TEEN"] = {Multiplier = 1.1, Name = "Pre-Teen", Code = "PRE-TEEN"},
    ["TEEN"] = {Multiplier = 1.15, Name = "Teen", Code = "TEEN"},
    ["POST-TEEN"] = {Multiplier = 1.2, Name = "Post-Teen", Code = "POST-TEEN"},
    ["FULL GROWN"] = {Multiplier = 1.25, Name = "Full Grown", Code = "FULL GROWN"},
}

-- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
SherikytCurrencyCalculator.PetDatabase = {}
SherikytCurrencyCalculator.ActiveTrade = false
SherikytCurrencyCalculator.TradeData = {
    You = {},
    Other = {}
}
SherikytCurrencyCalculator.CurrencyCache = {}
SherikytCurrencyCalculator.GUI = nil
-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –í–°–ï–• –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞—Ü–∏–π –ø–∏—Ç–æ–º—Ü–µ–≤
function SherikytCurrencyCalculator:GenerateAllVariations()
    local allVariations = {}
    
    -- –ë–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–æ–ª–Ω–æ–π –±–∞–∑—ã
    for basePetName, baseData in pairs(self.CompletePetDatabase) do
        -- –î–æ–±–∞–≤–ª—è–µ–º –±–∞–∑–æ–≤—É—é –≤–µ—Ä—Å–∏—é
        allVariations[basePetName] = baseData
        
        -- ========== –í–ê–†–ò–ê–¶–ò–ò –° POTIONS ==========
        -- FR (Fly Ride)
        allVariations[basePetName .. " (FR)"] = {
            Value = math.floor(baseData.Value * self.PotionModifiers["FR"].Multiplier),
            Rarity = baseData.Rarity,
            Type = baseData.Type,
            Variation = "Fly Ride"
        }
        
        -- R (Ride)
        allVariations[basePetName .. " (R)"] = {
            Value = math.floor(baseData.Value * self.PotionModifiers["R"].Multiplier),
            Rarity = baseData.Rarity,
            Type = baseData.Type,
            Variation = "Ride"
        }
        
        -- F (Fly)
        allVariations[basePetName .. " (F)"] = {
            Value = math.floor(baseData.Value * self.PotionModifiers["F"].Multiplier),
            Rarity = baseData.Rarity,
            Type = baseData.Type,
            Variation = "Fly"
        }
        
        -- N (Normal/No Potion)
        allVariations[basePetName .. " (N)"] = {
            Value = math.floor(baseData.Value * self.PotionModifiers["N"].Multiplier),
            Rarity = baseData.Rarity,
            Type = baseData.Type,
            Variation = "Normal"
        }
        
        -- NO POTION
        allVariations[basePetName .. " (No Potion)"] = {
            Value = math.floor(baseData.Value * self.PotionModifiers["NO POTION"].Multiplier),
            Rarity = baseData.Rarity,
            Type = baseData.Type,
            Variation = "No Potion"
        }
        
        -- ========== –ù–ï–û–ù–û–í–´–ï –í–ê–†–ò–ê–¶–ò–ò ==========
        -- Neon
        allVariations["Neon " .. basePetName] = {
            Value = math.floor(baseData.Value * self.PotionModifiers["NEON"].Multiplier),
            Rarity = baseData.Rarity,
            Type = baseData.Type,
            Variation = "Neon"
        }
        
        -- Neon FR
        allVariations["Neon " .. basePetName .. " (FR)"] = {
            Value = math.floor(baseData.Value * self.PotionModifiers["NEON"].Multiplier * self.PotionModifiers["FR"].Multiplier),
            Rarity = baseData.Rarity,
            Type = baseData.Type,
            Variation = "Neon Fly Ride"
        }
        
        -- Neon R
        allVariations["Neon " .. basePetName .. " (R)"] = {
            Value = math.floor(baseData.Value * self.PotionModifiers["NEON"].Multiplier * self.PotionModifiers["R"].Multiplier),
            Rarity = baseData.Rarity,
            Type = baseData.Type,
            Variation = "Neon Ride"
        }
        
        -- Neon F
        allVariations["Neon " .. basePetName .. " (F)"] = {
            Value = math.floor(baseData.Value * self.PotionModifiers["NEON"].Multiplier * self.PotionModifiers["F"].Multiplier),
            Rarity = baseData.Rarity,
            Type = baseData.Type,
            Variation = "Neon Fly"
        }
        
        -- ========== MEGA NEON –í–ê–†–ò–ê–¶–ò–ò ==========
        -- Mega Neon
        allVariations["Mega Neon " .. basePetName] = {
            Value = math.floor(baseData.Value * self.PotionModifiers["MEGA NEON"].Multiplier),
            Rarity = baseData.Rarity,
            Type = baseData.Type,
            Variation = "Mega Neon"
        }
        
        -- Mega Neon FR
        allVariations["Mega Neon " .. basePetName .. " (FR)"] = {
            Value = math.floor(baseData.Value * self.PotionModifiers["MEGA NEON"].Multiplier * self.PotionModifiers["FR"].Multiplier),
            Rarity = baseData.Rarity,
            Type = baseData.Type,
            Variation = "Mega Neon Fly Ride"
        }
        
        -- Mega Neon R
        allVariations["Mega Neon " .. basePetName .. " (R)"] = {
            Value = math.floor(baseData.Value * self.PotionModifiers["MEGA NEON"].Multiplier * self.PotionModifiers["R"].Multiplier),
            Rarity = baseData.Rarity,
            Type = baseData.Type,
            Variation = "Mega Neon Ride"
        }
        
        -- Mega Neon F
        allVariations["Mega Neon " .. basePetName .. " (F)"] = {
            Value = math.floor(baseData.Value * self.PotionModifiers["MEGA NEON"].Multiplier * self.PotionModifiers["F"].Multiplier),
            Rarity = baseData.Rarity,
            Type = baseData.Type,
            Variation = "Mega Neon Fly"
        }
        
        -- ========== –í–û–ó–†–ê–°–¢–ù–´–ï –í–ê–†–ò–ê–¶–ò–ò ==========
        local ageModifiers = {
            "Newborn",
            "Junior", 
            "Pre-Teen",
            "Teen",
            "Post-Teen",
            "Full Grown"
        }
        
        for _, age in ipairs(ageModifiers) do
            -- –° –≤–æ–∑—Ä–∞—Å—Ç–æ–º
            allVariations[age .. " " .. basePetName] = {
                Value = math.floor(baseData.Value * self.PotionModifiers[age:upper()].Multiplier),
                Rarity = baseData.Rarity,
                Type = baseData.Type,
                Variation = age
            }
            
            -- –° –≤–æ–∑—Ä–∞—Å—Ç–æ–º –∏ FR
            allVariations[age .. " " .. basePetName .. " (FR)"] = {
                Value = math.floor(baseData.Value * self.PotionModifiers[age:upper()].Multiplier * self.PotionModifiers["FR"].Multiplier),
                Rarity = baseData.Rarity,
                Type = baseData.Type,
                Variation = age .. " Fly Ride"
            }
            
            -- –° –≤–æ–∑—Ä–∞—Å—Ç–æ–º –∏ R
            allVariations[age .. " " .. basePetName .. " (R)"] = {
                Value = math.floor(baseData.Value * self.PotionModifiers[age:upper()].Multiplier * self.PotionModifiers["R"].Multiplier),
                Rarity = baseData.Rarity,
                Type = baseData.Type,
                Variation = age .. " Ride"
            }
            
            -- –° –≤–æ–∑—Ä–∞—Å—Ç–æ–º –∏ F
            allVariations[age .. " " .. basePetName .. " (F)"] = {
                Value = math.floor(baseData.Value * self.PotionModifiers[age:upper()].Multiplier * self.PotionModifiers["F"].Multiplier),
                Rarity = baseData.Rarity,
                Type = baseData.Type,
                Variation = age .. " Fly"
            }
        end
    end
    
    -- ========== –°–ü–ï–¶–ò–ê–õ–¨–ù–´–ï –í–ê–†–ò–ê–¶–ò–ò ==========
    -- –î–æ–±–∞–≤–ª—è–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
    local specialVariations = {
        -- –¢–µ–Ω–∏—Å—Ç—ã–µ –¥—Ä–∞–∫–æ–Ω—ã
        ["Shadow Dragon (No Potion)"] = {Value = 1200, Rarity = "Legendary", Type = "Dragon"},
        ["Neon Shadow Dragon"] = {Value = 2500, Rarity = "Legendary", Type = "Dragon"},
        ["Mega Neon Shadow Dragon"] = {Value = 5000, Rarity = "Legendary", Type = "Dragon"},
        
        -- –ë—ç—Ç –¥—Ä–∞–∫–æ–Ω—ã
        ["Bat Dragon (No Potion)"] = {Value = 1100, Rarity = "Legendary", Type = "Dragon"},
        ["Neon Bat Dragon"] = {Value = 2200, Rarity = "Legendary", Type = "Dragon"},
        ["Mega Neon Bat Dragon"] = {Value = 4400, Rarity = "Legendary", Type = "Dragon"},
        
        -- –ñ–∏—Ä–∞—Ñ—ã
        ["Giraffe (No Potion)"] = {Value = 1050, Rarity = "Legendary", Type = "Safari"},
        ["Neon Giraffe"] = {Value = 2100, Rarity = "Legendary", Type = "Safari"},
        ["Mega Neon Giraffe"] = {Value = 4200, Rarity = "Legendary", Type = "Safari"},
        
        -- –°–æ–≤—ã
        ["Owl (No Potion)"] = {Value = 850, Rarity = "Legendary", Type = "Farm"},
        ["Neon Owl"] = {Value = 1700, Rarity = "Legendary", Type = "Farm"},
        ["Mega Neon Owl"] = {Value = 3400, Rarity = "Legendary", Type = "Farm"},
        
        -- –ü–æ–ø—É–≥–∞–∏
        ["Parrot (No Potion)"] = {Value = 800, Rarity = "Legendary", Type = "Pirate"},
        ["Neon Parrot"] = {Value = 1600, Rarity = "Legendary", Type = "Pirate"},
        ["Mega Neon Parrot"] = {Value = 3200, Rarity = "Legendary", Type = "Pirate"},
    }
    
    -- –û–±—ä–µ–¥–∏–Ω—è–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞—Ü–∏–∏
    for petName, data in pairs(specialVariations) do
        allVariations[petName] = data
    end
    
    return allVariations
end

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∏–º–µ–Ω –ø–∏—Ç–æ–º—Ü–µ–≤
function SherikytCurrencyCalculator:GetAllPossibleNames()
    local names = {}
    
    -- –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ –±–∞–∑–æ–≤—ã–µ –∏–º–µ–Ω–∞
    for name in pairs(self.CompletePetDatabase) do
        table.insert(names, name)
    end
    
    -- –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ –≤–∞—Ä–∏–∞—Ü–∏–∏
    local variations = self:GenerateAllVariations()
    for name in pairs(variations) do
        table.insert(names, name)
    end
    
    -- –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É
    table.sort(names)
    
    return names
end

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–∏—Ç–æ–º—Ü–∞ –ø–æ —á–∞—Å—Ç–∏—á–Ω–æ–º—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é
function SherikytCurrencyCalculator:FindPetByPartialName(partialName)
    partialName = partialName:lower():gsub("%s+", " ")
    
    local allNames = self:GetAllPossibleNames()
    
    for _, fullName in ipairs(allNames) do
        if fullName:lower():find(partialName, 1, true) then
            return fullName
        end
    end
    
    -- –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏, –ø—Ä–æ–±—É–µ–º —É–¥–∞–ª–∏—Ç—å potion –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
    local cleanName = partialName:gsub("%(.*%)", ""):gsub("neon", ""):gsub("mega", ""):gsub("%s+", " "):trim()
    
    for _, fullName in ipairs(allNames) do
        local cleanFullName = fullName:lower():gsub("%(.*%)", ""):gsub("neon", ""):gsub("mega", ""):gsub("%s+", " "):trim()
        if cleanFullName == cleanName then
            return fullName
        end
    end
    
    return nil
end
-- –£–ª—É—á—à–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –ø–∏—Ç–æ–º—Ü–∞
local Pet = {}
Pet.__index = Pet

function Pet.new(name, rarity, potions, variation, age)
    local self = setmetatable({}, Pet)
    self.Name = name
    self.BaseName = self:ExtractBaseName(name)
    self.Rarity = rarity or "Unknown"
    self.Potions = potions or {}
    self.Variation = variation or "Normal"
    self.Age = age or "Newborn"
    self.CurrencyValue = 0
    self.Type = "Unknown"
    self.IsNeon = name:lower():find("neon")
    self.IsMega = name:lower():find("mega")
    self.IsFlyRide = false
    self.IsFly = false
    self.IsRide = false
    self.IsNoPotion = false
    
    -- –û–ø—Ä–µ–¥–µ–ª—è–µ–º potion —Å—Ç–∞—Ç—É—Å
    self:AnalyzePotionStatus(name)
    
    return self
end

function Pet:ExtractBaseName(fullName)
    -- –£–±–∏—Ä–∞–µ–º –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
    local baseName = fullName:gsub("Neon", ""):gsub("Mega", ""):gsub("%(.*%)", "")
    baseName = baseName:gsub("%s+", " "):trim()
    
    -- –£–±–∏—Ä–∞–µ–º –≤–æ–∑—Ä–∞—Å—Ç
    local ages = {"Newborn", "Junior", "Pre%-Teen", "Teen", "Post%-Teen", "Full Grown"}
    for _, age in ipairs(ages) do
        baseName = baseName:gsub(age, "")
    end
    
    return baseName:gsub("%s+", " "):trim()
end

function Pet:AnalyzePotionStatus(fullName)
    local lowerName = fullName:lower()
    
    self.IsFlyRide = lowerName:find("fr") or lowerName:find("fly ride")
    self.IsFly = lowerName:find("%(f%)") or (lowerName:find("fly") and not lowerName:find("ride"))
    self.IsRide = lowerName:find("%(r%)") or (lowerName:find("ride") and not lowerName:find("fly"))
    self.IsNoPotion = lowerName:find("no potion") or lowerName:find("%(n%)")
    
    -- –û–ø—Ä–µ–¥–µ–ª—è–µ–º potions –º–∞—Å—Å–∏–≤
    if self.IsFlyRide then
        table.insert(self.Potions, "FR")
    elseif self.IsFly then
        table.insert(self.Potions, "F")
    elseif self.IsRide then
        table.insert(self.Potions, "R")
    elseif self.IsNoPotion then
        table.insert(self.Potions, "N")
    end
end

function Pet:GetFullDisplayName()
    local parts = {}
    
    -- –í–æ–∑—Ä–∞—Å—Ç
    if self.Age ~= "Newborn" then
        table.insert(parts, self.Age)
    end
    
    -- Neon/Mega
    if self.IsMega then
        table.insert(parts, "Mega Neon")
    elseif self.IsNeon then
        table.insert(parts, "Neon")
    end
    
    -- –ë–∞–∑–æ–≤–æ–µ –∏–º—è
    table.insert(parts, self.BaseName)
    
    -- Potions
    if #self.Potions > 0 then
        local potionStr = "(" .. table.concat(self.Potions, ", ") .. ")"
        table.insert(parts, potionStr)
    end
    
    return table.concat(parts, " ")
end

function Pet:CalculateMultiplier(calculator)
    local multiplier = 1.0
    
    -- –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä Neon
    if self.IsNeon and not self.IsMega then
        multiplier = multiplier * calculator.PotionModifiers["NEON"].Multiplier
    elseif self.IsMega then
        multiplier = multiplier * calculator.PotionModifiers["MEGA NEON"].Multiplier
    end
    
    -- –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã potions
    for _, potion in ipairs(self.Potions) do
        if calculator.PotionModifiers[potion] then
            multiplier = multiplier * calculator.PotionModifiers[potion].Multiplier
        end
    end
    
    -- –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤–æ–∑—Ä–∞—Å—Ç–∞
    if calculator.PotionModifiers[self.Age:upper():gsub("-", "_")] then
        multiplier = multiplier * calculator.PotionModifiers[self.Age:upper():gsub("-", "_")].Multiplier
    end
    
    return multiplier
end
-- –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–æ–∫–∏ —Å –ø–∏—Ç–æ–º—Ü–µ–º
function SherikytCurrencyCalculator:ParsePetStringAdvanced(text)
    if not text or text == "" then
        return nil
    end
    
    text = text:gsub("%s+", " "):trim()
    
    local result = {
        OriginalText = text,
        BaseName = "",
        Age = "Newborn",
        IsNeon = false,
        IsMega = false,
        Potions = {},
        Variation = "Normal"
    }
    
    -- –û–ø—Ä–µ–¥–µ–ª—è–µ–º –≤–æ–∑—Ä–∞—Å—Ç
    local ages = {
        "Newborn", "Junior", "Pre-Teen", "Teen", "Post-Teen", "Full Grown"
    }
    
    for _, age in ipairs(ages) do
        if text:lower():find(age:lower()) then
            result.Age = age
            text = text:gsub(age, ""):gsub("%s+", " "):trim()
            break
        end
    end
    
    -- –û–ø—Ä–µ–¥–µ–ª—è–µ–º Neon/Mega
    if text:lower():find("mega neon") then
        result.IsMega = true
        result.IsNeon = true
        text = text:gsub("Mega Neon", ""):gsub("mega neon", ""):gsub("%s+", " "):trim()
    elseif text:lower():find("neon") then
        result.IsNeon = true
        text = text:gsub("Neon", ""):gsub("neon", ""):gsub("%s+", " "):trim()
    end
    
    -- –û–ø—Ä–µ–¥–µ–ª—è–µ–º Potions –≤ —Å–∫–æ–±–∫–∞—Ö
    local potionPatterns = {
        {"%((.-)%)", true}, -- –í—Å–µ –≤ —Å–∫–æ–±–∫–∞—Ö
        {"FR", "FR"},
        {"Fly Ride", "FR"},
        {"R", "R"},
        {"Ride", "R"},
        {"F", "F"},
        {"Fly", "F"},
        {"N", "N"},
        {"No Potion", "N"}
    }
    
    for _, pattern in ipairs(potionPatterns) do
        local matchPattern, potionCode = unpack(pattern)
        
        if type(matchPattern) == "string" then
            local match = text:match(matchPattern)
            if match then
                if potionCode == true then
                    -- –†–∞–∑–±–∏—Ä–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∫–æ–±–æ–∫
                    local potionsInBrackets = match:gsub("[%(%)]", ""):split(", ")
                    for _, pot in ipairs(potionsInBrackets) do
                        table.insert(result.Potions, pot:upper())
                    end
                else
                    table.insert(result.Potions, potionCode)
                end
                text = text:gsub(matchPattern, ""):gsub("%s+", " "):trim()
            end
        end
    end
    
    -- –û—á–∏—â–∞–µ–º —Ç–µ–∫—Å—Ç –æ—Ç –ª–∏—à–Ω–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤
    text = text:gsub("[%(%)]", ""):gsub("%s+", " "):trim()
    
    result.BaseName = text
    
    return result
end

-- –ü–æ–∏—Å–∫ –ø–∏—Ç–æ–º—Ü–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å —É—á–µ—Ç–æ–º –≤—Å–µ—Ö –≤–∞—Ä–∏–∞—Ü–∏–π
function SherikytCurrencyCalculator:FindPetInDatabase(parsedData)
    if not parsedData then return nil end
    
    local allVariations = self:GenerateAllVariations()
    
    -- –ü—Ä–æ–±—É–µ–º –Ω–∞–π—Ç–∏ —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
    for petName, petData in pairs(allVariations) do
        local lowerPetName = petName:lower()
        local searchName = parsedData.BaseName:lower()
        
        -- –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
        if lowerPetName == searchName then
            return petName, petData
        end
        
        -- –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–µ–∑ —É—á–µ—Ç–∞ –≤–æ–∑—Ä–∞—Å—Ç–∞ –∏ neon
        local cleanPetName = lowerPetName:gsub("newborn", ""):gsub("junior", ""):gsub("pre%-teen", "")
            :gsub("teen", ""):gsub("post%-teen", ""):gsub("full grown", "")
            :gsub("neon", ""):gsub("mega", "")
            :gsub("%(.*%)", ""):gsub("%s+", " "):trim()
        
        local cleanSearchName = searchName:gsub("newborn", ""):gsub("junior", ""):gsub("pre%-teen", "")
            :gsub("teen", ""):gsub("post%-teen", ""):gsub("full grown", "")
            :gsub("neon", ""):gsub("mega", "")
            :gsub("%(.*%)", ""):gsub("%s+", " "):trim()
        
        if cleanPetName == cleanSearchName then
            -- –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–æ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º
            local hasNeon = parsedData.IsNeon and lowerPetName:find("neon")
            local hasMega = parsedData.IsMega and lowerPetName:find("mega")
            local hasAge = parsedData.Age ~= "Newborn" and lowerPetName:find(parsedData.Age:lower())
            
            if (not parsedData.IsNeon or hasNeon) and 
               (not parsedData.IsMega or hasMega) and
               (parsedData.Age == "Newborn" or hasAge) then
                return petName, petData
            end
        end
    end
    
    -- –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏, –∏—â–µ–º –ø–æ –±–∞–∑–æ–≤–æ–º—É –∏–º–µ–Ω–∏
    for baseName, baseData in pairs(self.CompletePetDatabase) do
        if baseName:lower():find(parsedData.BaseName:lower()) then
            -- –°–æ–∑–¥–∞–µ–º –≤–∞—Ä–∏–∞—Ü–∏—é –Ω–∞ –ª–µ—Ç—É
            local multiplier = 1.0
            
            if parsedData.IsMega then
                multiplier = multiplier * self.PotionModifiers["MEGA NEON"].Multiplier
            elseif parsedData.IsNeon then
                multiplier = multiplier * self.PotionModifiers["NEON"].Multiplier
            end
            
            for _, potion in ipairs(parsedData.Potions) do
                if self.PotionModifiers[potion] then
                    multiplier = multiplier * self.PotionModifiers[potion].Multiplier
                end
            end
            
            local estimatedValue = math.floor(baseData.Value * multiplier)
            
            return baseName, {
                Value = estimatedValue,
                Rarity = baseData.Rarity,
                Type = baseData.Type,
                Variation = "Estimated"
            }
        end
    end
    
    return nil
end

-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∏—Ç–æ–º—Ü–µ–≤ –≤ —Ç—Ä–µ–π–¥–µ
function SherikytCurrencyCalculator:AutoDetectPetsInTrade()
    local tradeFrame = self:FindTradeElements()
    if not tradeFrame then return {}, {} end
    
    local yourItems = {}
    local otherItems = {}
    
    -- –°–∫–∞–Ω–∏—Ä—É–µ–º –≤—Å–µ TextLabel –∏ TextButton
    local descendants = tradeFrame:GetDescendants()
    
    for _, element in pairs(descendants) do
        if element:IsA("TextLabel") or element:IsA("TextButton") then
            local text = element.Text
            if text and text ~= "" and text:len() > 2 then
                -- –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã
                if text:lower():find("accept") or text:lower():find("decline") or
                   text:lower():find("trade") or text:lower():find("offer") then
                    continue
                end
                
                -- –ü–∞—Ä—Å–∏–º —Ç–µ–∫—Å—Ç
                local parsedData = self:ParsePetStringAdvanced(text)
                if parsedData and parsedData.BaseName ~= "" then
                    local petName, petData = self:FindPetInDatabase(parsedData)
                    
                    if petName then
                        local pet = Pet.new(
                            petName,
                            petData.Rarity,
                            parsedData.Potions,
                            petData.Variation or "Normal",
                            parsedData.Age
                        )
                        
                        pet.CurrencyValue = petData.Value
                        pet.Type = petData.Type
                        
                        -- –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç–æ—Ä–æ–Ω—É
                        local isYourSide = self:IsElementOnYourSide(element)
                        
                        if isYourSide then
                            table.insert(yourItems, pet)
                        else
                            table.insert(otherItems, pet)
                        end
                        
                        if self.Config.DEBUG_MODE then
                            print("[AutoDetect] –ù–∞–π–¥–µ–Ω –ø–∏—Ç–æ–º–µ—Ü:", pet:GetFullDisplayName(), "Value:", pet.CurrencyValue)
                        end
                    end
                end
            end
        end
        
        -- –¢–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º ImageLabel –Ω–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏
        if element:IsA("ImageLabel") then
            local tooltip = element:FindFirstChildWhichIsA("TextLabel")
            if tooltip and tooltip.Text ~= "" then
                local parsedData = self:ParsePetStringAdvanced(tooltip.Text)
                if parsedData then
                    -- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞...
                end
            end
        end
    end
    
    return yourItems, otherItems
end
-- –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ GUI
function SherikytCurrencyCalculator:CreateEnhancedGUI()
    if self.GUI and self.GUI.Container then
        self.GUI.Container:Destroy()
    end
    
    local container = Instance.new("Frame")
    container.Name = "SherikytEnhancedCurrencyGUI"
    container.Size = UDim2.new(0, 400, 0, 350)
    container.Position = UDim2.new(0, 10, 0, 10)
    container.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
    container.BackgroundTransparency = 0.1
    container.BorderSizePixel = 2
    container.BorderColor3 = Color3.fromRGB(100, 100, 255)
    container.Visible = false
    
    -- UI Corners
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 12)
    corner.Parent = container
    
    -- UI Stroke
    local stroke = Instance.new("UIStroke")
    stroke.Color = Color3.fromRGB(150, 150, 255)
    stroke.Thickness = 2
    stroke.Parent = container
    
    -- Gradient
    local gradient = Instance.new("UIGradient")
    gradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(30, 30, 50)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(20, 20, 40))
    })
    gradient.Parent = container
    
    -- –ó–∞–≥–æ–ª–æ–≤–æ–∫
    local title = Instance.new("TextLabel")
    title.Name = "Title"
    title.Text = "SHERIKYT CURRENCY MASTER"
    title.Size = UDim2.new(1, 0, 0, 40)
    title.Position = UDim2.new(0, 0, 0, 0)
    title.BackgroundColor3 = Color3.fromRGB(40, 40, 80)
    title.TextColor3 = Color3.fromRGB(255, 255, 100)
    title.Font = Enum.Font.GothamBold
    title.TextSize = 18
    title.TextStrokeTransparency = 0.5
    title.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    title.Parent = container
    
    local titleCorner = Instance.new("UICorner")
    titleCorner.CornerRadius = UDim.new(0, 12)
    titleCorner.Parent = title
    
    -- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
    local infoFrame = Instance.new("Frame")
    infoFrame.Name = "InfoFrame"
    infoFrame.Size = UDim2.new(1, -20, 0, 70)
    infoFrame.Position = UDim2.new(0, 10, 0, 50)
    infoFrame.BackgroundTransparency = 1
    infoFrame.Parent = container
    
    -- YOU —Å–µ–∫—Ü–∏—è
    local youSection = Instance.new("Frame")
    youSection.Name = "YouSection"
    youSection.Size = UDim2.new(0.48, 0, 1, 0)
    youSection.Position = UDim2.new(0, 0, 0, 0)
    youSection.BackgroundColor3 = Color3.fromRGB(30, 60, 30)
    youSection.BackgroundTransparency = 0.7
    youSection.Parent = infoFrame
    
    local youCorner = Instance.new("UICorner")
    youCorner.CornerRadius = UDim.new(0, 8)
    youCorner.Parent = youSection
    
    local youLabel = Instance.new("TextLabel")
    youLabel.Name = "YouLabel"
    youLabel.Text = "YOU\n0"
    youLabel.Size = UDim2.new(1, 0, 1, 0)
    youLabel.Position = UDim2.new(0, 0, 0, 0)
    youLabel.BackgroundTransparency = 1
    youLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
    youLabel.Font = Enum.Font.GothamBold
    youLabel.TextSize = 16
    youLabel.TextYAlignment = Enum.TextYAlignment.Center
    youLabel.Parent = youSection
    
    -- OTHER —Å–µ–∫—Ü–∏—è
    local otherSection = Instance.new("Frame")
    otherSection.Name = "OtherSection"
    otherSection.Size = UDim2.new(0.48, 0, 1, 0)
    otherSection.Position = UDim2.new(0.52, 0, 0, 0)
    otherSection.BackgroundColor3 = Color3.fromRGB(60, 30, 30)
    otherSection.BackgroundTransparency = 0.7
    otherSection.Parent = infoFrame
    
    local otherCorner = Instance.new("UICorner")
    otherCorner.CornerRadius = UDim.new(0, 8)
    otherCorner.Parent = otherSection
    
    local otherLabel = Instance.new("TextLabel")
    otherLabel.Name = "OtherLabel"
    otherLabel.Text = "OTHER\n0"
    otherLabel.Size = UDim2.new(1, 0, 1, 0)
    otherLabel.Position = UDim2.new(0, 0, 0, 0)
    otherLabel.BackgroundTransparency = 1
    otherLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
    otherLabel.Font = Enum.Font.GothamBold
    otherLabel.TextSize = 16
    otherLabel.TextYAlignment = Enum.TextYAlignment.Center
    otherLabel.Parent = otherSection
    
    -- –ò—Ç–æ–≥–æ–≤–∞—è —Ä–∞–∑–Ω–∏—Ü–∞
    local differenceFrame = Instance.new("Frame")
    differenceFrame.Name = "DifferenceFrame"
    differenceFrame.Size = UDim2.new(1, -20, 0, 40)
    differenceFrame.Position = UDim2.new(0, 10, 0, 130)
    differenceFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
    differenceFrame.Parent = container
    
    local diffCorner = Instance.new("UICorner")
    diffCorner.CornerRadius = UDim.new(0, 8)
    diffCorner.Parent = differenceFrame
    
    local differenceLabel = Instance.new("TextLabel")
    differenceLabel.Name = "DifferenceLabel"
    differenceLabel.Text = "FAIR TRADE"
    differenceLabel.Size = UDim2.new(1, 0, 1, 0)
    differenceLabel.Position = UDim2.new(0, 0, 0, 0)
    differenceLabel.BackgroundTransparency = 1
    differenceLabel.TextColor3 = Color3.fromRGB(255, 255, 100)
    differenceLabel.Font = Enum.Font.GothamBold
    differenceLabel.TextSize = 14
    differenceLabel.TextYAlignment = Enum.TextYAlignment.Center
    differenceLabel.Parent = differenceFrame
    
    -- –°–ø–∏—Å–æ–∫ –ø–∏—Ç–æ–º—Ü–µ–≤ —Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π
    local petsScrollFrame = Instance.new("ScrollingFrame")
    petsScrollFrame.Name = "PetsScrollFrame"
    petsScrollFrame.Size = UDim2.new(1, -20, 0, 150)
    petsScrollFrame.Position = UDim2.new(0, 10, 0, 180)
    petsScrollFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
    petsScrollFrame.BackgroundTransparency = 0.3
    petsScrollFrame.BorderSizePixel = 0
    petsScrollFrame.ScrollBarThickness = 8
    petsScrollFrame.ScrollBarImageColor3 = Color3.fromRGB(100, 100, 150)
    petsScrollFrame.Parent = container
    
    local scrollCorner = Instance.new("UICorner")
    scrollCorner.CornerRadius = UDim.new(0, 8)
    scrollCorner.Parent = petsScrollFrame
    
    local petsListLayout = Instance.new("UIListLayout")
    petsListLayout.Parent = petsScrollFrame
    petsListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    petsListLayout.Padding = UDim.new(0, 2)
    
    -- –°—Ç–∞—Ç—É—Å –±–∞—Ä
    local statusBar = Instance.new("Frame")
    statusBar.Name = "StatusBar"
    statusBar.Size = UDim2.new(1, -20, 0, 20)
    statusBar.Position = UDim2.new(0, 10, 0, 340)
    statusBar.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
    statusBar.Parent = container
    
    local statusCorner = Instance.new("UICorner")
    statusCorner.CornerRadius = UDim.new(0, 4)
    statusCorner.Parent = statusBar
    
    local statusLabel = Instance.new("TextLabel")
    statusLabel.Name = "StatusLabel"
    statusLabel.Text = "–ì–æ—Ç–æ–≤ –∫ —Ç—Ä–µ–π–¥—É"
    statusLabel.Size = UDim2.new(1, 0, 1, 0)
    statusLabel.Position = UDim2.new(0, 0, 0, 0)
    statusLabel.BackgroundTransparency = 1
    statusLabel.TextColor3 = Color3.fromRGB(200, 200, 255)
    statusLabel.Font = Enum.Font.Gotham
    statusLabel.TextSize = 12
    statusLabel.TextXAlignment = Enum.TextXAlignment.Left
    statusLabel.Parent = statusBar
    
    -- –°–æ–∑–¥–∞–µ–º GUI –æ–±—ä–µ–∫—Ç
    local guiObj = {
        Container = container,
        YouLabel = youLabel,
        OtherLabel = otherLabel,
        DifferenceLabel = differenceLabel,
        PetsScrollFrame = petsScrollFrame,
        StatusLabel = statusLabel
    }
    
    container.Parent = playerGui
    
    return guiObj
end
-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ GUI
function SherikytCurrencyCalculator:UpdateEnhancedGUI(yourItems, otherItems)
    if not self.GUI then
        self.GUI = self:CreateEnhancedGUI()
    end
    
    self.GUI.Container.Visible = true
    
    -- –†–∞—Å—á–µ—Ç —Å—É–º–º
    local yourTotal = 0
    local otherTotal = 0
    
    for _, pet in pairs(yourItems) do
        yourTotal = yourTotal + (pet.CurrencyValue or 0)
    end
    
    for _, pet in pairs(otherItems) do
        otherTotal = otherTotal + (pet.CurrencyValue or 0)
    end
    
    -- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ YOU —Å–µ–∫—Ü–∏–∏
    self.GUI.YouLabel.Text = string.format("YOU\n%d", yourTotal)
    
    -- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ OTHER —Å–µ–∫—Ü–∏–∏
    self.GUI.OtherLabel.Text = string.format("OTHER\n%d", otherTotal)
    
    -- –†–∞—Å—á–µ—Ç –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞–∑–Ω–∏—Ü—ã
    local difference = yourTotal - otherTotal
    local differenceText = ""
    local differenceColor = Color3.fromRGB(255, 255, 255)
    
    if math.abs(difference) < 10 then
        differenceText = "‚öñÔ∏è FAIR TRADE"
        differenceColor = Color3.fromRGB(100, 255, 100)
    elseif difference > 0 then
        if difference > 100 then
            differenceText = string.format("üéâ BIG WIN +%d", difference)
            differenceColor = Color3.fromRGB(0, 255, 0)
        else
            differenceText = string.format("üëç WIN +%d", difference)
            differenceColor = Color3.fromRGB(150, 255, 150)
        end
    else
        local loss = math.abs(difference)
        if loss > 100 then
            differenceText = string.format("üíÄ BIG LOSS -%d", loss)
            differenceColor = Color3.fromRGB(255, 50, 50)
        else
            differenceText = string.format("‚ö†Ô∏è LOSE -%d", loss)
            differenceColor = Color3.fromRGB(255, 150, 150)
        end
    end
    
    self.GUI.DifferenceLabel.Text = differenceText
    self.GUI.DifferenceLabel.TextColor3 = differenceColor
    
    -- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–∏—Ç–æ–º—Ü–µ–≤
    local petsFrame = self.GUI.PetsScrollFrame
    petsFrame:ClearAllChildren()
    
    local function createPetEntry(pet, isYours, index)
        local entryFrame = Instance.new("Frame")
        entryFrame.Name = "PetEntry_" .. index
        entryFrame.Size = UDim2.new(1, 0, 0, 30)
        entryFrame.BackgroundTransparency = 0.8
        entryFrame.BackgroundColor3 = isYours and Color3.fromRGB(30, 60, 30) or Color3.fromRGB(60, 30, 30)
        entryFrame.LayoutOrder = index
        
        local corner = Instance.new("UICorner")
        corner.CornerRadius = UDim.new(0, 6)
        corner.Parent = entryFrame
        
        -- –ò–º—è –ø–∏—Ç–æ–º—Ü–∞
        local nameLabel = Instance.new("TextLabel")
        nameLabel.Name = "NameLabel"
        nameLabel.Size = UDim2.new(0.6, 0, 1, 0)
        nameLabel.Position = UDim2.new(0, 5, 0, 0)
        nameLabel.BackgroundTransparency = 1
        nameLabel.Text = pet:GetFullDisplayName()
        nameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
        nameLabel.Font = Enum.Font.Gotham
        nameLabel.TextSize = 12
        nameLabel.TextXAlignment = Enum.TextXAlignment.Left
        nameLabel.TextTruncate = Enum.TextTruncate.AtEnd
        nameLabel.Parent = entryFrame
        
        -- –°—Ç–æ–∏–º–æ—Å—Ç—å
        local valueLabel = Instance.new("TextLabel")
        valueLabel.Name = "ValueLabel"
        valueLabel.Size = UDim2.new(0.3, 0, 1, 0)
        valueLabel.Position = UDim2.new(0.6, 0, 0, 0)
        valueLabel.BackgroundTransparency = 1
        valueLabel.Text = tostring(pet.CurrencyValue)
        valueLabel.TextColor3 = Color3.fromRGB(255, 255, 100)
        valueLabel.Font = Enum.Font.GothamBold
        valueLabel.TextSize = 12
        valueLabel.TextXAlignment = Enum.TextXAlignment.Right
        valueLabel.Parent = entryFrame
        
        -- –ò–∫–æ–Ω–∫–∞ —Ä–µ–¥–∫–æ—Å—Ç–∏
        local rarityIcon = Instance.new("TextLabel")
        rarityIcon.Name = "RarityIcon"
        rarityIcon.Size = UDim2.new(0, 20, 0, 20)
        rarityIcon.Position = UDim2.new(1, -25, 0.5, -10)
        rarityIcon.BackgroundTransparency = 1
        rarityIcon.Text = self:GetRarityIcon(pet.Rarity)
        rarityIcon.TextColor3 = self:GetRarityColor(pet.Rarity)
        rarityIcon.Font = Enum.Font.GothamBold
        rarityIcon.TextSize = 14
        rarityIcon.Parent = entryFrame
        
        entryFrame.Parent = petsFrame
    end
    
    -- –î–æ–±–∞–≤–ª—è–µ–º –ø–∏—Ç–æ–º—Ü–µ–≤ –∏–≥—Ä–æ–∫–∞
    for i, pet in ipairs(yourItems) do
        createPetEntry(pet, true, i)
    end
    
    -- –î–æ–±–∞–≤–ª—è–µ–º –ø–∏—Ç–æ–º—Ü–µ–≤ –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞
    for i, pet in ipairs(otherItems) do
        createPetEntry(pet, false, #yourItems + i)
    end
    
    -- –û–±–Ω–æ–≤–ª—è–µ–º —Ä–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞
    local totalItems = #yourItems + #otherItems
    petsFrame.CanvasSize = UDim2.new(0, 0, 0, totalItems * 32)
    
    -- –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
    local statusText = string.format("–ü–∏—Ç–æ–º—Ü–µ–≤: %d | –û–±–Ω–∞—Ä—É–∂–µ–Ω —Ç—Ä–µ–π–¥", totalItems)
    self.GUI.StatusLabel.Text = statusText
    
    -- –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ
    self.TradeData.You = yourItems
    self.TradeData.Other = otherItems
end

-- –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏–∫–æ–Ω–æ–∫ —Ä–µ–¥–∫–æ—Å—Ç–∏
function SherikytCurrencyCalculator:GetRarityIcon(rarity)
    local icons = {
        ["Legendary"] = "‚≠ê",
        ["Ultra Rare"] = "üîÆ",
        ["Rare"] = "üîµ",
        ["Uncommon"] = "üü¢",
        ["Common"] = "‚ö™",
        ["Limited"] = "üíé",
        ["Vehicle"] = "üöó",
        ["Stroller"] = "üë∂",
        ["Pet Wear"] = "üëï"
    }
    
    return icons[rarity] or "‚ùì"
end

function SherikytCurrencyCalculator:GetRarityColor(rarity)
    local colors = {
        ["Legendary"] = Color3.fromRGB(255, 215, 0),
        ["Ultra Rare"] = Color3.fromRGB(255, 105, 180),
        ["Rare"] = Color3.fromRGB(0, 150, 255),
        ["Uncommon"] = Color3.fromRGB(0, 200, 0),
        ["Common"] = Color3.fromRGB(200, 200, 200),
        ["Limited"] = Color3.fromRGB(255, 50, 50),
        ["Vehicle"] = Color3.fromRGB(150, 75, 0),
        ["Stroller"] = Color3.fromRGB(255, 150, 255),
        ["Pet Wear"] = Color3.fromRGB(255, 200, 100)
    }
    
    return colors[rarity] or Color3.fromRGB(255, 255, 255)
end

-- –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
function SherikytCurrencyCalculator:EnhancedUpdate()
    local yourItems, otherItems = self:AutoDetectPetsInTrade()
    
    if #yourItems > 0 or #otherItems > 0 then
        self.ActiveTrade = true
        self:UpdateEnhancedGUI(yourItems, otherItems)
        
        if self.Config.DEBUG_MODE and (#yourItems > 0 or #otherItems > 0) then
            print(string.format("[EnhancedUpdate] –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ: %d –≤–∞—à–∏—Ö, %d —á—É–∂–∏—Ö –ø–∏—Ç–æ–º—Ü–µ–≤", #yourItems, #otherItems))
        end
    else
        if self.ActiveTrade then
            self.ActiveTrade = false
            if self.GUI then
                self.GUI.Container.Visible = false
            end
        end
    end
end
-- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
function SherikytCurrencyCalculator:FullInitialize()
    -- –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ–ª–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
    self.PetDatabase = self:GenerateAllVariations()
    
    -- –°–æ–∑–¥–∞–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π GUI
    self:CreateEnhancedGUI()
    
    -- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–æ–º–∞–Ω–¥—ã —á–∞—Ç–∞
    self:SetupChatCommands()
    
    -- –ó–∞–ø—É—Å–∫–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª
    local connection = RunService.Heartbeat:Connect(function(deltaTime)
        self:EnhancedUpdate()
    end)
    
    self.Connection = connection
    
    -- –í—ã–≤–æ–¥–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–≥—Ä—É–∑–∫–µ
    local totalPets = 0
    for _ in pairs(self.PetDatabase) do totalPets = totalPets + 1 end
    
    print("=========================================")
    print("SHERIKYT CURRENCY CALCULATOR v2.0")
    print("=========================================")
    print("–ó–∞–≥—Ä—É–∂–µ–Ω–æ –ø–∏—Ç–æ–º—Ü–µ–≤: " .. totalPets)
    print("–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –ü–û–õ–ù–ê–Ø (–≤—Å–µ –ø–∏—Ç–æ–º—Ü—ã –∏ –≤–∞—Ä–∏–∞—Ü–∏–∏)")
    print("–ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã: –í—Å–µ FR/N/M/Neon/Mega Neon")
    print("–ö–æ–º–∞–Ω–¥—ã: /currency, /help, /debug")
    print("=========================================")
    
    if self.Config.DEBUG_MODE then
        print("[DEBUG] –ü–æ–ª–Ω–∞—è –±–∞–∑–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!")
    end
    
    return true
end

-- –ö–æ–º–∞–Ω–¥—ã —á–∞—Ç–∞
function SherikytCurrencyCalculator:SetupChatCommands()
    local function onPlayerChatted(message, recipient, speaker)
        if speaker ~= player then return end
        
        message = message:lower():trim()
        
        if message == "/currency" or message == "/cc" then
            if self.GUI then
                self.GUI.Container.Visible = not self.GUI.Container.Visible
                speaker:SetExtraData("CurrencyGUI", self.GUI.Container.Visible and "ON" or "OFF")
            end
            return true
            
        elseif message == "/help currency" then
            speaker:SetExtraData("Help", [[
Sherikyt Currency Commands:
/currency - –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
/cc - –¢–æ –∂–µ —Å–∞–º–æ–µ
/debug - –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –æ—Ç–ª–∞–¥–∫—É
/pets - –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∏—Ç–æ–º—Ü–µ–≤ –≤ –±–∞–∑–µ
            ]])
            return true
            
        elseif message == "/debug" then
            self.Config.DEBUG_MODE = not self.Config.DEBUG_MODE
            speaker:SetExtraData("DebugMode", self.Config.DEBUG_MODE and "ON" or "OFF")
            print("[Sherikyt] Debug Mode: " .. (self.Config.DEBUG_MODE and "ENABLED" or "DISABLED"))
            return true
            
        elseif message == "/pets" then
            local total = 0
            for _ in pairs(self.PetDatabase) do total = total + 1 end
            speaker:SetExtraData("PetCount", "Total pets in database: " .. total)
            print("[Sherikyt] Total pets in database: " .. total)
            return true
        end
    end
    
    -- –ü–æ–¥–∫–ª—é—á–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —á–∞—Ç–∞
    local success, err = pcall(function()
        local chatEvents = ReplicatedStorage:WaitForChild("DefaultChatSystemChatEvents")
        if chatEvents then
            chatEvents.OnMessageDoneFiltering.OnClientEvent:Connect(onPlayerChatted)
        end
    end)
    
    if not success and self.Config.DEBUG_MODE then
        print("[Sherikyt] Chat commands setup failed:", err)
    end
end

-- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
function SherikytCurrencyCalculator:ExportFullDatabase()
    local export = {
        Timestamp = os.time(),
        TotalPets = 0,
        PetsByRarity = {},
        PetsByType = {}
    }
    
    for petName, petData in pairs(self.PetDatabase) do
        export.TotalPets = export.TotalPets + 1
        
        -- –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ —Ä–µ–¥–∫–æ—Å—Ç–∏
        if not export.PetsByRarity[petData.Rarity] then
            export.PetsByRarity[petData.Rarity] = 0
        end
        export.PetsByRarity[petData.Rarity] = export.PetsByRarity[petData.Rarity] + 1
        
        -- –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ —Ç–∏–ø—É
        if not export.PetsByType[petData.Type] then
            export.PetsByType[petData.Type] = 0
        end
        export.PetsByType[petData.Type] = export.PetsByType[petData.Type] + 1
    end
    
    return export
end

-- –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞
function SherikytCurrencyCalculator:StartFullSystem()
    -- –ñ–¥–µ–º –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –∏–≥—Ä—ã
    task.wait(3)
    
    -- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–æ–ª–Ω—É—é —Å–∏—Å—Ç–µ–º—É
    local success, err = pcall(function()
        self:FullInitialize()
    end)
    
    if not success then
        warn("[Sherikyt] –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–ª–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã:", err)
        
        -- –ü—Ä–æ–±—É–µ–º –±–∞–∑–æ–≤—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
        task.wait(2)
        self:FullInitialize()
    end
    
    -- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
    while true do
        task.wait(10)
        
        if self.Config.DEBUG_MODE and self.ActiveTrade then
            local yourTotal = 0
            local otherTotal = 0
            
            for _, pet in pairs(self.TradeData.You) do
                yourTotal = yourTotal + (pet.CurrencyValue or 0)
            end
            
            for _, pet in pairs(self.TradeData.Other) do
                otherTotal = otherTotal + (pet.CurrencyValue or 0)
            end
            
            print(string.format("[Sherikyt] Trade Status: You=%d, Other=%d, Diff=%d", 
                yourTotal, otherTotal, yourTotal - otherTotal))
        end
    end
end

-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–≥—Ä—ã
coroutine.wrap(function()
    task.wait(5) -- –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ –∏–≥—Ä—ã
    
    local success, err = pcall(function()
        SherikytCurrencyCalculator:StartFullSystem()
    end)
    
    if not success then
        warn("=========================================")
        warn("SHERIKYT CURRENCY CALCULATOR ERROR")
        warn("=========================================")
        warn("Error:", err)
        warn("Trying alternative initialization...")
        
        -- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞
        task.wait(2)
        SherikytCurrencyCalculator:StartFullSystem()
    end
end)()

-- –≠–∫—Å–ø–æ—Ä—Ç –º–æ–¥—É–ª—è
return SherikytCurrencyCalculator
